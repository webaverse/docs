(self.webpackChunk=self.webpackChunk||[]).push([[7909],{3905:(e,t,a)=>{"use strict";a.d(t,{Zo:()=>c,kt:()=>d});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(a),d=r,k=u["".concat(p,".").concat(d)]||u[d]||m[d]||i;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5142:(e,t,a)=>{"use strict";a.r(t),a.d(t,{frontMatter:()=>l,metadata:()=>p,toc:()=>s,default:()=>m});var n=a(2122),r=a(9756),i=(a(7294),a(3905)),o=["components"],l={id:"avatar-system",title:"Avatar System"},p={unversionedId:"engineering/app/avatar-system",id:"engineering/app/avatar-system",isDocsHomePage:!1,title:"Avatar System",description:"Webaverse supports many avatars in the game. By default the player has one avatar.",source:"@site/../docs/engineering/app/avatar-system.md",sourceDirName:"engineering/app",slug:"/engineering/app/avatar-system",permalink:"/docs/engineering/app/avatar-system",version:"current",frontMatter:{id:"avatar-system",title:"Avatar System"},sidebar:"docs",previous:{title:"Totum",permalink:"/docs/engineering/app/totum"},next:{title:"PhysX WASM Workflow",permalink:"/docs/engineering/app/physx-workflow"}},s=[{value:"Activating Avatars",id:"activating-avatars",children:[]},{value:"Avatar Setup",id:"avatar-setup",children:[{value:"Breakdown",id:"breakdown",children:[]}]},{value:"Object loading system",id:"object-loading-system",children:[{value:"Breakdown",id:"breakdown-1",children:[]}]}],c={toc:s};function m(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Webaverse supports many avatars in the game. By default the player has one avatar."),(0,i.kt)("h2",{id:"activating-avatars"},"Activating Avatars"),(0,i.kt)("p",null,"We can add many more avatars into a scene. Those avatars can be activated if the player gets near the avatar and then activates the swap command with the ",(0,i.kt)("inlineCode",{parentName:"p"},"E")," button."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"avatar-setup"},"Avatar Setup"),(0,i.kt)("p",null,"Avatars can be set up as objects in a .scn (Scene) file."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "position": [\n        -26,\n        0,\n        -2\n    ],\n    "quaternion": [\n        0,\n        0.707,\n        0,\n        0.707\n    ],\n    "start_url": "https://webaverse.github.io/app/public/avatars/scillia.vrm",\n    "dynamic": true\n}\n')),(0,i.kt)("h3",{id:"breakdown"},"Breakdown"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Position")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Object's position in 3D world. (0,0,0) is the center of the world"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Quaternion")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Object's rotation calculated in Qaternions. (0,0,0,0) is default. For more information take a look here ",(0,i.kt)("a",{parentName:"li",href:"https://threejs.org/docs/#api/en/math/Quaternion"},"https://threejs.org/docs/#api/en/math/Quaternion")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Start_url")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Location where the avatar object is located. We have many options to choose from to provide information about an object's definition. Look for the Object loading system for more information. In this particular example we are loading a 3D model from a remote location via url ",(0,i.kt)("a",{parentName:"li",href:"https://webaverse.github.io/app/public/avatars/scillia.vrm"},"https://webaverse.github.io/app/public/avatars/scillia.vrm")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Dynamic")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Should we load object dynamically?")))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"object-loading-system"},"Object loading system"),(0,i.kt)("p",null,"We can load many object types into our 3D world. Supported object types are: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".glb")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".vox")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},".vrm")," "),(0,i.kt)("li",{parentName:"ul"},"and our own custom types for scene configuration ")),(0,i.kt)("p",null,"We can load an object from a ",(0,i.kt)("strong",{parentName:"p"},"local directory")," ",(0,i.kt)("em",{parentName:"p"},"(for example ",(0,i.kt)("inlineCode",{parentName:"em"},'"start_url": "/public/avatars/scillia.vrm"'),")")," or from a ",(0,i.kt)("strong",{parentName:"p"},"remote location")," ",(0,i.kt)("em",{parentName:"p"},"(for example ",(0,i.kt)("inlineCode",{parentName:"em"},'"start_url": "https://webaverse.github.io/app/public/avatars/scillia.vrm"'),")"),"."),(0,i.kt)("p",null,"Webaverse provides solutions for complex object loading with JavaScript file loading.\nThe folder structure looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},".\n\u2514\u2500\u2500\u2500textures\n\u2514\u2500\u2500\u2500.metaversefile\n\u2514\u2500\u2500\u2500index.js\n\u2514\u2500\u2500\u2500manifest.js\n\u2514\u2500\u2500\u2500README.md\n")),(0,i.kt)("p",null,".totum is the entry point for loading."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'{   \n    "start_url": "index.js",\n    "components": []\n}\n')),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"breakdown-1"},"Breakdown"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"start_url")," \u2013 it can be 3D model file ",(0,i.kt)("inlineCode",{parentName:"p"},".glb")," ",(0,i.kt)("inlineCode",{parentName:"p"},".vox")," ",(0,i.kt)("inlineCode",{parentName:"p"},".vrm")," or JavaScript file. If we provide JavaScript file, we can import complex Three.js objects with many custom properties and with update function as well.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"components")," \u2013 custom components passed directly to Webaverse app object"))),(0,i.kt)("hr",null))}m.isMDXComponent=!0}}]);